var open_access={activateButton:function(a,D,A,w,m,i,f,b,E,c,z,B){var g=0;do{g++;var G="open_url_"+a+"_"+g;var h=document.getElementById(G);var t=g+1;var k=document.getElementById("open_url_"+a+"_"+t);var p="open_url_"+a+"_"+g;var F=document.getElementById(p);if(F&&typeof F!=="undefined"&&F.value!=""){var C=$("#"+p).attr("value");var l=$("#"+p).attr("oas_type");var j=$("#"+p).attr("ut");var x=$("#"+p).attr("publisher_id");var r=$("#"+p).attr("journal_id");var u=$("#"+p).attr("doc_id");var q=$("#"+p).attr("is_best");var e;var v=document.createElement("a");v.setAttribute("href","javascript:;");v.setAttribute("class","small-button secondary-button button9 vertical-align-initial margin-left-3");v.setAttribute("id","open_access_"+a+"_"+g);v.setAttribute("type",l);v.setAttribute("name","open_access");v.data=C;v.oa_type=l;v.publisherId=x;v.journalId=r;v.ut=j;v.docId=u;v.viewType=z;v.addEventListener("click",function(){var I=this.snowplowclass_val;var H=$("."+I).attr("id");trackSnowplowEventSE(H);open_location(this.data,"full_text");if(c){var J=c+"&oaType="+this.oa_type+"&publisherId="+this.publisherId+"&journalId="+this.journalId+"&ut="+this.ut+"&docId="+this.docId;if("fullRecord"===this.viewType){J=J+"&includeEventConfig=eventsForFullTxtOAFromFullrec"}if("summary"===this.viewType){J=J+"&includeEventConfig=eventsForFullTxtOAFromSummary"}$.ajax({type:"GET",url:J,data:null,async:true,success:function(K){},error:function(K){}})}},false);if(q!=null&&q=="Y"){e=document.getElementById("oa_ac_tag_"+a);e.appendChild(v)}else{e=document.getElementById("popup-ft-list"+a);var o;var n=document.createElement("li");n.setAttribute("id","li_open_access_"+a+"_"+g);n.appendChild(v);if(e==null){e=document.getElementById("full_text_"+a+"_links");o=document.createElement("ul");o.setAttribute("id","popup-ft-list"+a);o.setAttribute("class","popup-ft-list");o.appendChild(n);e.appendChild(o);$("#full_text_"+a).show();LinksDropDown.activateButton(a);LinksDropDown.activateHandler()}else{e.appendChild(n)}}var d=document.getElementById("open_access_"+a+"_"+g);var y=d.type;if(y=="gold_or_bronze"||y=="gold"||y=="gold_doaj"||y=="gold_other"||y=="bronze"){var s;v.innerHTML=D;v.setAttribute("alt",i);v.setAttribute("title",i);if(y=="gold_doaj"){s="snowplow-gold-doaj-full-text"}else{if(y=="gold_other"){s="snowplow-gold-other-full-text"}else{if(y=="bronze"){s="snowplow-bronze-full-text"}else{s="snowplow-gold-oa-full-text"}}}v.setAttribute("snowplowclass",s);v.snowplowclass_val=s;if(d.classList.contains("button9")){d.className+=" oa_icon_neutral"}}else{if(y=="green_published"){v.innerHTML=A;v.setAttribute("alt",f);v.setAttribute("title",f);v.setAttribute("snowplowclass","snowplow-green-published");v.snowplowclass_val="snowplow-green-published";if(d.classList.contains("button9")){d.className+=" oa_icon_neutral"}}else{if(y=="green_accepted"){v.innerHTML=w;v.setAttribute("alt",b);v.setAttribute("title",b);v.setAttribute("snowplowclass","snowplow-green-accepted");v.snowplowclass_val="snowplow-green-accepted";if(d.classList.contains("button9")){d.className+=" oa_icon_neutral"}}else{if(y=="green_submitted"){v.innerHTML=m;v.setAttribute("alt",E);v.setAttribute("title",E);v.setAttribute("snowplowclass","snowplow-green-submitted");v.snowplowclass_val="snowplow-green-submitted";if(d.classList.contains("button9")){d.className+=" oa_icon_neutral"}}else{v.innerHTML="OA Green Full Text";if(d.classList.contains("button9")){d.className+=" green"}}}}}}}while(h&&k)},removeDuplicates:function(){$('a[name="open_access"]').filter(function(){return $(this).attr("class")=="small-button secondary-button button9 vertical-align-initial margin-left-3"}).remove()},entitlements_check:function(d,a,c,b){if(d!="true"){$('a[name="open_access"]').filter(function(){return $(this).attr("type")=="gold"}).remove()}if(a!="true"){$('a[name="open_access"]').filter(function(){return $(this).attr("type")=="green_published"}).remove()}if(c!="true"){$('a[name="open_access"]').filter(function(){return $(this).attr("type")=="green_accepted"}).remove()}if(b!="true"){$('a[name="open_access"]').filter(function(){return $(this).attr("type")=="green_submitted"}).remove()}},};