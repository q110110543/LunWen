document.write('<!--[if lte IE 6]><script type="text/javascript" src="'+ELEMENTAL_JS_FOLDER+'"DD_belatedPNG_0.0.8a-min.js"><\/script><![endif]-->');document.write('<script type="text/javascript" src="'+DHTML_SUITE_JS_FOLDER+'dhtmlSuite-common.js"><\/script>');document.write('<script type="text/javascript" src="'+DHTML_SUITE_JS_FOLDER+'dhtmlSuite-contextMenu.js"><\/script>');document.write('<script type="text/javascript" src="'+DHTML_SUITE_JS_FOLDER+'dhtmlSuite-menuBar.js"><\/script>');document.write('<script type="text/javascript" src="'+DHTML_SUITE_JS_FOLDER+'dhtmlSuite-menuItem.js"><\/script>');document.write('<script type="text/javascript" src="'+DHTML_SUITE_JS_FOLDER+'dhtmlSuite-menuModel.js"><\/script>');document.write('<script type="text/javascript" src="'+ELEMENTAL_JS_FOLDER+'elemental-obf.js"><\/script>');var editor;function injectElemental(c,a){var b="elemental";if(window.elemental_div){b=window.elemental_div}if(!window.elemental_divs){var d=document.getElementById(b);if(c&&a){d.style.width=c+"px";d.style.height=a+"px"}}if(!window.elemental_divs){if(window.elemental_options){if(window.elemental_options.templateFile==undefined){window.elemental_options.templateFile=DHTML_SUITE_ICON_FOLDER+"docs/templates.sdf"}if(window.elemental_options.iconDir==undefined){window.elemental_options.iconDir=DHTML_SUITE_ICON_FOLDER+"icons/"}}else{window.elemental_options={ui:true,templateFile:DHTML_SUITE_ICON_FOLDER+"docs/templates.sdf",iconDir:DHTML_SUITE_ICON_FOLDER+"icons/"}}window.editor=new Elemental(document.getElementById(b),null,window.elemental_options)}else{window.elementals=new Array();window.elemental_divs.each(function(f,e){var g=new Elemental(e,null,{ui:false,iconDir:DHTML_SUITE_ICON_FOLDER+"icons/"});g.load(editStructure($(e).attr("molString")));window.elementals.push(g)})}}var elemental_options={rgSupport:true,rxnQuery:true,stereoCare:true,iconDir:DHTML_SUITE_ICON_FOLDER+"icons/",defaultMolFormat:"v2000"};window.onload=function(){if(document.getElementById("elemental")){elemental_div="elemental";injectElemental(675,505);window.editor.load($("#sdfString").val())}if($(".elemental_result")){elemental_divs=$(".elemental_result");injectElemental(550,175)}};function structuresearch(b,c){if(containsStructure()){var a=editor.write();document.getElementById("molecule").value=a;document.getElementById("molfile").value=a;document.getElementById("ISRXNQRY").value=a.substring(0,4)}else{document.getElementById("molecule").value="";document.getElementById("molfile").value="";document.getElementById("ISRXNQRY").value=""}if(check_chem_editions("No","search")){saveRadioForm(b);return true}c.preventDefault();return false}function elementalClick(b){var a=editor.write();if(document.getElementById("molecule").value==a){return}document.getElementById("molecule").value=a;document.getElementById("molfile").value=a;document.getElementById("ISRXNQRY").value=a.substring(0,4);saveRadioForm(b)}function compoundSearch(b,c,d){if(containsStructure()){var a=editor.write();document.getElementById("molecule").value=a}else{document.getElementById("molecule").value=""}if(check_form_inputs(b,c)){saveDCRForm(b);return true}d.preventDefault();return false}function compoundElementalClick(b){var a=editor.write();if(document.getElementById("molecule").value==a){return}document.getElementById("molecule").value=a;saveDCRForm(b)}function containsStructure(){if(editor.write("smiles").length>0){return true}else{return false}}function editStructure(b){if(b.indexOf("V2000")!=-1||b.indexOf("v2000")!=-1){molecule=b.split("$MOL\n");var a=molecule.length;if(a>1){for(var c=1;c<molecule.length;c++){molecule[c]=editV2000Molecule(molecule[c])}}else{molecule[0]=editV2000Molecule(molecule[0])}return molecule.join("$MOL\n")}else{if(b.indexOf("V3000")!=-1||b.indexOf("v3000")!=-1){molecule=b.split("V30 BEGIN ATOM\n");var a=molecule.length;if(a>1){for(var c=1;c<molecule.length;c++){molecule[c]=editV3000Molecule(molecule[c])}}else{molecule[0]=editV3000Molecule(molecule[0])}molecule=molecule.join("V30 BEGIN ATOM\n");b=molecule.split("RXCTR=2").join("RXCTR=0");return b}else{return b}}}function editV3000Molecule(a){var c=a.split("\n");molLength=c.length;for(var b=0;b<molLength;b++){if(c[b].indexOf("V30 END ATOM")!=-1){break}col=c[b].match(/[^\s"]+|"[^"]+"/g);if(col.length>=8){col[7]="0";c[b]=col.join(" ").replace("M V30","M  V30")}}return c.join("\n")}function editV2000Molecule(a){var d=a.split("\n");var e=d[3];if(e){if(e.toUpperCase().indexOf("0  0  0  0  0  0  0  0  0  0999 V2000")!=-1){return"\n ACLJDraw00000000000D\n \n 5  0  0  0  0  0            999 V2000\n    1.1000    2.0000    0.0000 NO    0  0  0  0  0  0  0  0  0  0  0  0\n    2.0000    2.0000    0.0000 STR   0  0  0  0  0  0  0  0  0  0  0  0\n    3.0000    2.0000    0.0000 UCT   0  0  0  0  0  0  0  0  0  0  0  0\n    4.0000    2.0000    0.0000 URE   0  0  0  0  0  0  0  0  0  0  0  0\n    4.5000    2.0000    0.0000       0  0  0  0  0  0  0  0  0  0  0  0\n M  END\n"}else{numAtoms=parseInt(e.substring(0,3));numBonds=parseInt(e.substring(3,6));for(var c=4;c<numAtoms+4;c++){line=d[c];if(line.length>=63){d[c]=line.substring(0,60)+"  0"+line.substring(63)}}for(var b=numAtoms+4;b<numBonds+numAtoms+4;b++){line=d[b];if(line.length>=21){if(parseInt(line.substring(18,21))==2){d[b]=line.substring(0,18)+"  0"+line.substring(21)}}}}return d.join("\n")}else{return a}};