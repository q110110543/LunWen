if(!window.DHTMLSuite){var DHTMLSuite={}}DHTMLSuite.menuBar=function(){this.cssPrefix="DHTMLSuite_";this.menuItemLayoutCss=!1;this.layoutCSS="menu-bar.css";this.menuBarBackgroundImage="menu_strip_bg.jpg";this.menuItem_objects={};DHTMLSuite.variableStorage.menuBar_highlightedItems=[];this.menuBarObj=this.menuBarState=!1;this.menuBarHeight=26;this.submenuGroups=[];this.submenuIframes=[];this.menuItemCssPrefix=this.activeSubItemsOnMouseOver=this.targetId=!1;this.createIframesForOldIeBrowsers=!0;try{standardObjectsCreated||DHTMLSuite.createStandardObjects()}catch(b){alert("You need to include the dhtmlSuite-common.js file")}this.objectIndex=DHTMLSuite.variableStorage.arrayDSObjects.length;DHTMLSuite.variableStorage.arrayDSObjects[this.objectIndex]=this};DHTMLSuite.menuBar.prototype={init:function(){DHTMLSuite.commonObj.loadCSS(this.layoutCSS);this.__createMainMenuDiv();this.__createMenuItems();this.__setBasicEvents();window.refToThismenuBar=this},setTarget:function(b){this.targetId=b},setLayoutCss:function(b){this.layoutCSS=b},setMenuItemLayoutCss:function(b){this.menuItemLayoutCss=b},setCreateIframesForOldIeBrowsers:function(b){this.createIframesForOldIeBrowsers=b},addMenuItems:function(b){this.menuItemObj=b;this.menuItems=b.getItems()},setActiveSubItemsOnMouseOver:function(b){this.activeSubItemsOnMouseOver=b},setMenuItemState:function(e,d){try{this.menuItem_objects[e].setState(d)}catch(f){alert("menu item with id "+e+" does not exists or you have called the setMenuItemState method before the menu has been initialized")}},setMenuItemCssPrefix:function(b){this.menuItemCssPrefix=b},setCssPrefix:function(b){this.cssPrefix=b},deleteAllMenuItems:function(){this.hideSubMenus();this.__deleteMenuItems(0,!1);this.__clearAllMenuItems()},replaceMenuItems:function(d,c){this.hideSubMenus();this.__deleteMenuItems(d);this.menuItemObj.__appendMenuModel(c,d);this.__clearAllMenuItems();this.__createMenuItems()},deleteMenuItems:function(d,c){this.__deleteMenuItems(d,c);this.__clearAllMenuItems();this.__createMenuItems()},appendMenuItems:function(d,c){this.hideSubMenus();this.menuItemObj.__appendMenuModel(c,d);this.__clearAllMenuItems();this.__createMenuItems()},hideMenuItem:function(b){this.menuItem_objects[b].hide()},showMenuItem:function(b){this.menuItem_objects[b].show()},setText:function(d,c){this.menuItem_objects[d].setText(c)},setIcon:function(d,c){this.menuItem_objects[d].setIcon(c)},__clearAllMenuItems:function(){for(var e=0;e<this.menuItemObj.menuItemsOrder.length;e++){var d=this.menuItemObj.menuItemsOrder[e];if(d){if(this.submenuGroups[d]){var f=document.getElementById(this.submenuGroups[d]);DHTMLSuite.discardElement(f);this.submenuGroups[d]=null}this.submenuIframes[d]&&(f=document.getElementById(this.submenuIframes[d]),DHTMLSuite.discardElement(f),this.submenuIframes[d]=null)}}this.submenuGroups=[];this.submenuIframes=[];this.menuBarObj.innerHTML=""},__deleteMenuItems:function(e,d){d&&this.menuItemObj.__deleteANode(e);if(this.submenuGroups[e]){this.menuItem_objects[e].__setHasSub(!1);this.menuItemObj.__deleteChildNodes(e);var f=document.getElementById(this.submenuGroups[e]);DHTMLSuite.discardElement(f);this.submenuIframes[e]&&DHTMLSuite.discardElement(this.submenuIframes[e]);this.submenuGroups.splice(e,1);this.submenuIframes.splice(e,1)}},__changeMenuBarState:function(){var e=this.getAttribute("objectRef"),d=DHTMLSuite.variableStorage.arrayDSObjects[e],f=this.id.replace(/[^0-9]/gi,"");"disabled"!=d.menuItem_objects[f].getState()&&(d.menuBarState=!d.menuBarState,d.menuBarState?(d.hideSubMenus(),setTimeout("DHTMLSuite.variableStorage.arrayDSObjects["+e+"].__expandGroup("+f+")",10)):d.hideSubMenus())},__createMainMenuDiv:function(){window.refTomenuBar=this;this.menuBarObj=document.createElement("DIV");this.menuBarObj.className=this.cssPrefix+"menuBar_"+this.menuItemObj.submenuType[1];document.getElementById(this.targetId)?document.getElementById(this.targetId).appendChild(this.menuBarObj):alert("No target defined for the menu object")},hideSubMenus:function(b){if(this&&this.tagName&&(document.all&&(b=event),b=DHTMLSuite.commonObj.getSrcElement(b),"img"==b.tagName.toLowerCase()&&(b=b.parentNode),!b||b.className&&0<=b.className.indexOf("arrow"))){return}for(b=0;b<DHTMLSuite.variableStorage.menuBar_highlightedItems.length;b++){"disabled"!=DHTMLSuite.variableStorage.menuBar_highlightedItems[b].getState()&&DHTMLSuite.variableStorage.menuBar_highlightedItems[b].setState("regular"),DHTMLSuite.variableStorage.menuBar_highlightedItems[b].__hideGroup()}DHTMLSuite.variableStorage.menuBar_highlightedItems=[]},__hideSubMenusAfterSmallDelay:function(){setTimeout("DHTMLSuite.variableStorage.arrayDSObjects["+this.objectIndex+"].hideSubMenus()",15)},__expandGroup:function(f){var e=document.getElementById(this.submenuGroups[f]),h=e.getElementsByTagName("DIV")[0],h=h.id.replace(/[^0-9]/g,"");e.style.visibility="visible";e.scrollbars&&(e.style.overflow="auto");if(this.submenuIframes[f]){var g=document.getElementById(this.submenuIframes[f]);g.style.visibility="visible";g.scrollbars&&(g.style.overflow="auto")}DHTMLSuite.variableStorage.menuBar_highlightedItems[DHTMLSuite.variableStorage.menuBar_highlightedItems.length]=this.menuItem_objects[h];this.__positionSubMenu(f);DHTMLSuite.clientInfoObj.isOpera&&(h=e.getElementsByTagName("DIV")[0],h.className=h.className.replace("_over","_over"))},__activateMenuElements:function(e,d,f){if(!f&&(document.all&&(e=event),f=DHTMLSuite.commonObj.getSrcElement(e),f.getAttribute("DHTMLSuite_menuItem")||(f=f.parentNode),!f.getAttribute("DHTMLSuite_menuItem"))){f=f.parentNode}e=f.id.replace(/[^0-9]/g,"");if("disabled"!=this.menuItem_objects[e].getState()&&(this.menuItem_objects[e].setState("over"),this.menuBarState||this.activeSubItemsOnMouseOver)){d&&0<DHTMLSuite.variableStorage.menuBar_highlightedItems.length&&this.hideSubMenus(),f="over",d||(f="active"),this.menuItem_objects[e].setState(f),this.submenuGroups[e]&&this.__expandGroup(e),DHTMLSuite.variableStorage.menuBar_highlightedItems[DHTMLSuite.variableStorage.menuBar_highlightedItems.length]=this.menuItem_objects[e],this.menuItems[e].parentId&&this.__activateMenuElements(!1,!1,document.getElementById(this.menuItem_objects[this.menuItems[e].parentId].divElement))}},__createMenuItems:function(){var j=this.objectIndex,i=!1,p=document.getElementsByTagName("DIV");0<p.length&&(i=p[0]);for(p=0;p<this.menuItemObj.menuItemsOrder.length;p++){var o=this.menuItemObj.menuItemsOrder[p];if(this.menuItems[o].id){try{this.menuItem_objects[this.menuItems[o].id]=new DHTMLSuite.menuItem}catch(k){alert("Error: You need to include dhtmlSuite-menuItem.js in your html file")}this.menuItemCssPrefix&&this.menuItem_objects[this.menuItems[o].id].setCssPrefix(this.menuItemCssPrefix);this.menuItemLayoutCss&&this.menuItem_objects[this.menuItems[o].id].setLayoutCss(this.menuItemLayoutCss);var m=this.menuItem_objects[this.menuItems[o].id].createItem(this.menuItems[o]);m.setAttribute("DHTMLSuite_menuItem",1);this.menuItems[o].separator||(m.onmouseover=function(a){DHTMLSuite.variableStorage.arrayDSObjects[j].__activateMenuElements(a,!0)});!this.menuItems[o].jsFunction&&!this.menuItems[o].url&&(m.setAttribute("objectRef",j),m.onclick=this.__changeMenuBarState);DHTMLSuite.commonObj.__addEventEl(m);var n=this.menuBarObj;if(1==this.menuItems[o].depth&&"top"!=this.menuItemObj.submenuType[this.menuItems[o].depth]&&this.menuItemObj.mainMenuGroupWidth){var l=this.menuItemObj.mainMenuGroupWidth+"";-1==l.indexOf("%")&&(l+="px");n.style.width=l}if("1"==this.menuItems[o].depth){"top"==this.menuItemObj.submenuType[this.menuItems[o].depth]&&(m.style.styleFloat="left",m.style.cssText="float:left")}else{if(!this.menuItems[o].depth){alert("Error in menu model(depth not defined for a menu item). Remember to call the init()method for the menuModel object.");return}if(!this.submenuGroups[this.menuItems[o].parentId]&&(this.submenuGroups[this.menuItems[o].parentId]="DHTMLSuite_menuBarSubGroup"+this.menuItems[o].parentId,n=document.createElement("DIV"),n.style.zIndex=10000+this.menuItems[o].depth,n.style.position="absolute",this.menuItems[this.menuItems[o].parentId].groupHeight&&(l=this.menuItems[this.menuItems[o].parentId].groupHeight,n.style.height=l+"px",n.height=l,n.style.overflow="hidden",n.scrollbars=!0,isTouchDevice||(n.style.borderTopRightRadius="0px",n.style.borderBottomRightRadius="0px")),n.id=this.submenuGroups[this.menuItems[o].parentId],n.style.visibility="hidden",n.className=this.cssPrefix+"menuBar_"+this.menuItemObj.submenuType[this.menuItems[o].depth],i?i.parentNode.insertBefore(n,i):document.body.appendChild(n),DHTMLSuite.clientInfoObj.isOldMSIE&&this.createIframesForOldIeBrowsers)){this.submenuIframes[this.menuItems[o].parentId]="DHTMLSuite_menuBarIframe_"+this.menuItems[o].parentId,n=document.createElement('<IFRAME src="javascript:false;" frameborder=0>'),n.id=this.submenuIframes[this.menuItems[o].parentId],n.style.position="absolute",n.style.zIndex=9000,n.style.visibility="hidden",i?i.parentNode.insertBefore(n,i):document.body.appendChild(n)}n=document.getElementById(this.submenuGroups[this.menuItems[o].parentId])}n.appendChild(m);!1==this.menuItems[o].visible&&this.hideMenuItem(this.menuItems[o].id);"regular"!=this.menuItems[o].state&&this.menuItem_objects[this.menuItems[o].id].setState(this.menuItems[o].state)}}this.__setSizeOfAllSubMenus();this.__positionAllSubMenus();DHTMLSuite.clientInfoObj.isOpera&&this.__fixMenuLayoutForOperaBrowser()},__fixMenuLayoutForOperaBrowser:function(){for(var d=0;d<this.menuItemObj.menuItemsOrder.length;d++){var c=this.menuItemObj.menuItemsOrder[d];c&&(document.getElementById(this.menuItem_objects[c].divElement).className=document.getElementById(this.menuItem_objects[c].divElement).className.replace("_regular","_regular"))}},__setSizeOfAllSubMenus:function(){for(var d=0;d<this.menuItemObj.menuItemsOrder.length;d++){var c=this.menuItemObj.menuItemsOrder[d];c&&this.__setSizeOfSubMenus(c)}},__positionAllSubMenus:function(){for(var d=0;d<this.menuItemObj.menuItemsOrder.length;d++){var c=this.menuItemObj.menuItemsOrder[d];c&&this.submenuGroups[c]&&this.__positionSubMenu(c)}},__positionSubMenu:function(x){try{var w=document.getElementById(this.submenuGroups[x]),v=this.menuItemObj.submenuType[this.menuItems[x].depth],u=document.getElementById(this.menuItem_objects[x].divElement);if("top"==v){w.style.left=DHTMLSuite.commonObj.getLeftPos(u)+"px",w.style.top=DHTMLSuite.commonObj.getTopPos(u)+u.offsetHeight+"px"}else{var v=2,q=0,s=0;DHTMLSuite.clientInfoObj.isMSIE&&"BackCompat"==document.compatMode&&(q=3,v=0,s=2);var t="CSS1Compat"===document.compatMode?document.documentElement:document.body;w.style.left=DHTMLSuite.commonObj.getLeftPos(u)+u.offsetWidth+w.offsetWidth>Math.max(document.body.scrollLeft,document.documentElement.scrollLeft)+t.clientWidth?DHTMLSuite.commonObj.getLeftPos(u)-w.offsetWidth-s+"px":DHTMLSuite.commonObj.getLeftPos(u)+u.offsetWidth+v+"px";var r=DHTMLSuite.commonObj.getTopPos(u)+w.offsetHeight-(Math.max(document.body.scrollTop,document.documentElement.scrollTop)+t.clientHeight);if(0<r){var o=Math.floor(w.offsetHeight/w.children.length),n=Math.min(Math.ceil(r/o)*o,w.offsetHeight-u.offsetHeight);w.style.top=DHTMLSuite.commonObj.getTopPos(u)-n-q+"px"}else{w.style.top=DHTMLSuite.commonObj.getTopPos(u)-q+"px"}}if(DHTMLSuite.clientInfoObj.isMSIE){var p=document.getElementById(this.submenuIframes[x]);p.style.left=w.style.left;p.style.top=w.style.top;p.style.width=w.clientWidth+"px";p.style.height=w.clientHeight+"px"}}catch(m){}},__setSizeOfSubMenus:function(f){try{var e=document.getElementById(this.submenuGroups[f]),j=Math.max(e.offsetWidth,document.getElementById(this.menuItem_objects[f].divElement).offsetWidth);this.menuItems[f].submenuWidth&&(j=this.menuItems[f].submenuWidth);400<j&&(j=120);j+="";-1==j.indexOf("%")&&(j+="px");e.style.width=j;if(DHTMLSuite.clientInfoObj.isMSIE){var i=document.getElementById(this.submenuIframes[f]);i.style.width=e.style.width;i.style.height=e.style.height}}catch(g){}},__repositionMenu:function(b){b.menuBarObj.style.top=document.documentElement.scrollTop+"px"},__menuItemRollOver:function(d){var c=d.id.replace(/[^0-9]/g,"");d.className="DHTMLSuite_menuBar_menuItem_over_"+this.menuItems[c].depth},__menuItemRollOut:function(d){var c=d.id.replace(/[^0-9]/g,"");d.className="DHTMLSuite_menuBar_menuItem_"+this.menuItems[c].depth},__menuNavigate:function(b){b.id.replace(/[^0-9]/g,"")},__setBasicEvents:function(){DHTMLSuite.commonObj.addEvent(document.documentElement,"click",this.hideSubMenus);DHTMLSuite.commonObj.addEvent(document.documentElement,"mouseup",this.hideSubMenus)}};