if(!window.DHTMLSuite){var DHTMLSuite={}}var referenceToDHTMLSuiteContextMenu;DHTMLSuite.contextMenu=function(){this.menuModels={};this.menuObject=!1;this.menuUls=[];this.width=100;this.indexCurrentlyDisplayedMenuModel=this.srcElement=!1;try{standardObjectsCreated||DHTMLSuite.createStandardObjects()}catch(b){alert("You need to include the dhtmlSuite-common.js file")}this.objectIndex=DHTMLSuite.variableStorage.arrayDSObjects.length;DHTMLSuite.variableStorage.arrayDSObjects[this.objectIndex]=this};DHTMLSuite.contextMenu.prototype={setWidth:function(b){this.width=b},setLayoutCss:function(){},attachToElement:function(e,d,f){window.refToThisContextMenu=this;!e&&d&&(e=document.getElementById(d));e.id||(e.id="context_menu"+Math.random(),e.id=e.id.replace(".",""));this.menuModels[e.id]=f;f.setSubMenuType(1,"sub");f.setMainMenuGroupWidth(this.width);this.defaultMenuModel||(this.defaultMenuModel=f);e.oncontextmenu=this.__displayContextMenu;e.onmousedown=function(){window.refToThisContextMenu.__setReference(window.refToThisContextMenu)};DHTMLSuite.commonObj.__addEventEl(e);DHTMLSuite.commonObj.addEvent(document.documentElement,"click",this.__hideContextMenu)},attachTo:function(d,c){d=DHTMLSuite.commonObj.getEl(d);this.attachToElement(d,!1,c)},__setReference:function(b){referenceToDHTMLSuiteContextMenu=b},__displayContextMenu:function(g){document.all&&(g=event);var f=referenceToDHTMLSuiteContextMenu;if(!f.isContextMenuBusy){f.isContextMenuBusy=!0;f.srcElement=DHTMLSuite.commonObj.getSrcElement(g);if(!f.indexCurrentlyDisplayedMenuModel||f.indexCurrentlyDisplayedMenuModel!=this.id){f.indexCurrentlyDisplayedMenuModel?f.menuObject.innerHTML="":f.__createDivs(),f.menuItems=f.menuModels[this.id].getItems(),f.__createMenuItems(f.menuModels[this.id])}f.menuObject.style.display="block";f.indexCurrentlyDisplayedMenuModel=this.id;var j=f.menuBar.menuBarObj.offsetHeight,h="CSS1Compat"===document.compatMode?document.documentElement:document.body,i=g.clientX+f.menuBar.menuBarObj.offsetWidth-h.clientWidth;f.menuObject.style.left=0<i?g.clientX+Math.max(document.body.scrollLeft,document.documentElement.scrollLeft)-i+"px":g.clientX+Math.max(document.body.scrollLeft,document.documentElement.scrollLeft)+"px";i=g.clientY+j-h.clientHeight;f.menuObject.style.top=0<i?g.clientY+Math.max(document.body.scrollTop,document.documentElement.scrollTop)-i+"px":g.clientY+Math.max(document.body.scrollTop,document.documentElement.scrollTop)+"px";f.menuObject.style.display="block";setTimeout("referenceToDHTMLSuiteContextMenu.isContextMenuBusy=false",20);return !1}},__hideContextMenu:function(){var e=referenceToDHTMLSuiteContextMenu;if(e){e.menuObject&&(e.menuObject.style.display="none");for(var d=0,f=e.menuBar.submenuGroups.length;d<f;d++){document.getElementById(e.menuBar.submenuGroups[d])&&(document.getElementById(e.menuBar.submenuGroups[d]).style.display="none")}}},__createDivs:function(e){var d=!1,f=document.getElementsByTagName("DIV");0<f.length&&(d=f[0]);this.menuObject=document.createElement("DIV");this.menuObject.style.cssText="position:absolute;z-index:10000;";this.menuObject.className="DHTMLSuite_contextMenu";this.menuObject.id="DHTMLSuite_contextMenu"+DHTMLSuite.commonObj.getUniqueId();this.menuObject.style.backgroundImage="url('"+DHTMLSuite.configObj.imagePath+"context-menu/context-menu-gradient.gif')";this.menuObject.style.backgroundRepeat="repeat-y";this.width&&(this.menuObject.style.width=this.width+"px");e&&(this.menuObject.style.display="none");d?d.parentNode.insertBefore(this.menuObject,d):document.body.appendChild(this.menuObject);this.menuBar=new DHTMLSuite.menuBar;this.menuBar.setActiveSubItemsOnMouseOver(!0);this.menuBar.setTarget(this.menuObject.id);this.menuBar.addMenuItems(this.defaultMenuModel);this.menuBar.init();this.menuBar.menuBarObj.style.display="none"},__mouseOver:function(){this.className="DHTMLSuite_item_mouseover";document.all||(this.style.backgroundPosition="left center")},__mouseOut:function(){this.className="";document.all||(this.style.backgroundPosition="1px center")},__createMenuItems:function(b){this.menuBar.deleteAllMenuItems();this.menuBar.addMenuItems(b);this.menuBar.init()}};